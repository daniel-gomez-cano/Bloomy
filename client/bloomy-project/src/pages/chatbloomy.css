.chat-page { display:flex; flex-direction:column; min-height:100vh; background: var(--color-base); }
.chat-container { max-width: 960px; width:100%; margin: 0 auto; padding: 80px 20px 40px; flex:1; display:flex; flex-direction:column; position:relative; }
.chat-header { text-align:center; margin-bottom:24px; }
.chat-logo { width:64px; height:64px; margin:0 auto 12px; display:block; }
.chat-greeting { font-family: var(--font-lora); font-size:1.4rem; font-weight:600; margin:0; line-height:1.4; color: var(--color-text-primary); }
.chat-username { color: var(--color-primary-accent); }
.chat-messages { flex:1; overflow-y:auto; display:flex; flex-direction:column; gap:14px; padding: 8px 4px 160px; /* bottom pad for fixed input */ }
.chat-messages::-webkit-scrollbar { display:none; }
.chat-bubble { max-width: 78%; padding: 12px 16px; border-radius: 16px; line-height:1.5; font-size:0.95rem; position:relative; white-space:pre-wrap; }
.chat-bubble.user { align-self:flex-end; background: var(--color-primary-accent); color:#fff; box-shadow:0 4px 14px rgba(3,140,131,0.35); }
.chat-bubble.assistant { align-self:flex-start; background: var(--color-surface); border:1px solid var(--color-grid-line); color: var(--color-text-primary); box-shadow:0 4px 14px rgba(0,0,0,0.4); }
.bubble-inner p { margin:0 0 8px; }
.bubble-inner p:last-child { margin-bottom:0; }
.chat-input { display:flex; flex-direction:column; gap:12px; margin-top:8px; }
.chat-input.fixed { position:fixed; left:0; right:0; bottom:0; padding:12px 20px 20px; background:linear-gradient(180deg, rgba(0,0,0,0) 0%, var(--color-base) 40%); backdrop-filter: blur(4px); }
.chat-input textarea { width:80%; height:110px; resize:none; background: var(--color-surface); color: var(--color-text-primary); border:1px solid var(--color-grid-line); border-radius:12px; padding:12px 14px; font-family: var(--font-noto); line-height:1.4; margin: auto; }
.chat-input textarea:focus { outline:2px solid var(--color-primary-accent); }
.chat-input button { align-self:flex-end; background:transparent; color: var(--color-primary-accent); border:2px solid var(--color-primary-accent); padding:10px 26px; border-radius:10px; font-weight:600; cursor:pointer; transition:.3s; }
.chat-input button:hover:not(:disabled) { background: var(--color-primary-accent); color:#fff; }
.chat-input button:disabled { opacity:.4; cursor:not-allowed; }
.chat-error { background:#ff4d4f; color:#fff; padding:8px 12px; border-radius:8px; margin-bottom:8px; font-size:0.85rem; }
.chat-footer { margin-top:16px; font-size:0.75rem; color: var(--color-text-secondary); text-align:right; }
.typing-indicator { display:flex; gap:6px; align-items:center; }
.typing-indicator span { width:8px; height:8px; background: var(--color-primary-accent); border-radius:50%; animation: chatBounce 1s infinite ease-in-out; }
.typing-indicator span:nth-child(2){ animation-delay:.2s; }
.typing-indicator span:nth-child(3){ animation-delay:.4s; }
@keyframes chatBounce { 0%,80%,100%{ transform:scale(.6); opacity:.4;} 40%{ transform:scale(1); opacity:1;} }
@media (max-width:768px){ .chat-container{ padding:70px 14px 32px;} .chat-bubble{ max-width:90%; } .chat-input.fixed{ padding:12px 14px 18px; } .chat-greeting{ font-size:1.1rem; } }
/* Light theme adjustments */
body.light-theme .chat-bubble.assistant { background:#ffffff; border:1px solid rgba(0,0,0,0.12); box-shadow:0 4px 14px rgba(0,0,0,0.15); }
body.light-theme .chat-input textarea { background:#ffffff; border:1px solid rgba(0,0,0,0.15); }
body.light-theme .chat-input textarea:focus { outline:2px solid var(--color-primary-accent); }